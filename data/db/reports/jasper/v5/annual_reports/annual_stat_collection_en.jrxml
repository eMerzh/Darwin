<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="annual_stat_collection" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="0" uuid="defc8de3-153b-4308-9130-ef69b7b767b7">
	<property name="ireport.zoom" value="1.210000000000002"/>
	<property name="ireport.x" value="105"/>
	<property name="ireport.y" value="0"/>
	<style name="Title" fontName="Arial" fontSize="26" isBold="true" pdfFontName="Helvetica-Bold"/>
	<style name="SubTitle" forecolor="#666666" fontName="Arial" fontSize="18"/>
	<style name="Column header" forecolor="#FFFFFF" fontName="Arial" fontSize="12" isBold="true"/>
	<style name="Detail" fontName="Arial" fontSize="12"/>
	<parameter name="collection_ref" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="date_from" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="date_to" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select * from stats_collections_encoding(
    $P{collection_ref}::integer,
    $P{date_from}::TIMESTAMP,
    $P{date_to}::TIMESTAMP
);]]>
	</queryString>
	<field name="collection" class="java.lang.String"/>
	<field name="new_items" class="java.lang.Long"/>
	<field name="updated_items" class="java.lang.Long"/>
	<field name="new_types" class="java.lang.Long"/>
	<field name="updated_types" class="java.lang.Long"/>
	<field name="new_species" class="java.lang.Long"/>
	<title>
		<band height="74" splitType="Stretch">
			<staticText>
				<reportElement uuid="788c6270-0e3a-44e1-88fe-589f4d72360c" style="Title" x="0" y="0" width="802" height="67"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="54" isBold="false" pdfFontName="Helvetica"/>
				</textElement>
				<text><![CDATA[Annual stat by collection]]></text>
			</staticText>
		</band>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="40" splitType="Stretch">
			<staticText>
				<reportElement uuid="db6d3630-2a5f-4991-b01e-8ee3c079269b" x="1" y="0" width="394" height="20"/>
				<box topPadding="0" leftPadding="2" bottomPadding="0"/>
				<textElement verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Classic count: unique update per specimen in the period: ]]></text>
			</staticText>
			<textField>
				<reportElement uuid="1b9d40ff-f3d1-484e-86f4-37736ae8459f" x="395" y="0" width="405" height="20"/>
				<box leftPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[new SimpleDateFormat("dd/MM/yyyy").format($P{date_from}) + " - " + new SimpleDateFormat("dd/MM/yyyy").format($P{date_to})]]></textFieldExpression>
			</textField>
			<frame>
				<reportElement uuid="70ab19b5-7ebb-4b3c-af93-395f5ddc44f7" mode="Opaque" x="0" y="20" width="800" height="20" backcolor="#666666"/>
				<staticText>
					<reportElement uuid="ad696b89-2265-4f1d-8476-8d59627927ec" style="Column header" x="1" y="0" width="227" height="20"/>
					<box leftPadding="2"/>
					<textElement verticalAlignment="Middle"/>
					<text><![CDATA[Collection]]></text>
				</staticText>
				<staticText>
					<reportElement uuid="e5d987d3-e793-49c1-acd7-2458b98d0b38" style="Column header" x="227" y="0" width="105" height="20"/>
					<box leftPadding="2" rightPadding="2"/>
					<textElement textAlignment="Right" verticalAlignment="Middle"/>
					<text><![CDATA[New items]]></text>
				</staticText>
				<staticText>
					<reportElement uuid="8d26ddb6-705a-4e32-8e40-d65dbaf59a79" style="Column header" x="332" y="0" width="117" height="20"/>
					<box leftPadding="2" rightPadding="2"/>
					<textElement textAlignment="Right" verticalAlignment="Middle"/>
					<text><![CDATA[Updated items]]></text>
				</staticText>
				<staticText>
					<reportElement uuid="e3215c0b-3dfc-4f31-968b-a32b5b60dc9c" style="Column header" x="449" y="0" width="117" height="20"/>
					<box leftPadding="2" rightPadding="2"/>
					<textElement textAlignment="Right" verticalAlignment="Middle"/>
					<text><![CDATA[New types]]></text>
				</staticText>
				<staticText>
					<reportElement uuid="72a377ba-0d9e-4a36-8b68-4516fa9992ff" style="Column header" x="566" y="0" width="117" height="20"/>
					<box leftPadding="2" rightPadding="2"/>
					<textElement textAlignment="Right" verticalAlignment="Middle"/>
					<text><![CDATA[Updated types]]></text>
				</staticText>
				<staticText>
					<reportElement uuid="e8015926-3e67-4f3b-858e-c78e2eed062c" style="Column header" x="683" y="0" width="117" height="20"/>
					<box leftPadding="2" rightPadding="2"/>
					<textElement textAlignment="Right" verticalAlignment="Middle"/>
					<text><![CDATA[New species]]></text>
				</staticText>
			</frame>
		</band>
	</columnHeader>
	<detail>
		<band height="18" splitType="Stretch">
			<frame>
				<reportElement uuid="73354cc0-d239-4ed0-9616-f83494ce258e" x="0" y="0" width="800" height="15" isPrintWhenDetailOverflows="true"/>
				<textField isStretchWithOverflow="true">
					<reportElement uuid="1e1b3e26-eee9-4b90-a398-9c45868563c7" style="Detail" x="1" y="0" width="227" height="15"/>
					<box leftPadding="2"/>
					<textElement/>
					<textFieldExpression><![CDATA[$F{collection}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement uuid="30ad907b-1284-46cc-84f6-29950c54d9c5" style="Detail" x="227" y="0" width="105" height="15"/>
					<box leftPadding="2" rightPadding="2"/>
					<textElement textAlignment="Right" verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$F{new_items}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement uuid="8f69eba6-31d7-4afd-9c27-5538a6141c84" style="Detail" x="332" y="0" width="117" height="15"/>
					<box leftPadding="2" rightPadding="2"/>
					<textElement textAlignment="Right" verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$F{updated_items}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement uuid="0edc4ed0-e200-495c-919f-5433e3086883" style="Detail" x="449" y="0" width="117" height="15"/>
					<box leftPadding="2" rightPadding="2"/>
					<textElement textAlignment="Right" verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$F{new_types}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement uuid="39a09e26-8099-4f99-9960-3d1dca9faa0b" style="Detail" x="566" y="0" width="117" height="15"/>
					<box leftPadding="2" rightPadding="2"/>
					<textElement textAlignment="Right" verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$F{updated_types}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement uuid="95076a49-c271-491b-9216-b27c00e8417f" style="Detail" x="683" y="0" width="117" height="15"/>
					<box leftPadding="2" rightPadding="2"/>
					<textElement textAlignment="Right" verticalAlignment="Middle"/>
					<textFieldExpression><![CDATA[$F{new_species}]]></textFieldExpression>
				</textField>
			</frame>
			<line>
				<reportElement uuid="c785ef6b-6719-46c9-9ec7-4802b86d5b8a" positionType="FixRelativeToBottom" x="0" y="16" width="802" height="1"/>
				<graphicElement>
					<pen lineWidth="0.5" lineColor="#999999"/>
				</graphicElement>
			</line>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="52" splitType="Stretch">
			<textField pattern="">
				<reportElement uuid="92b6faae-db6d-4e14-86e9-f408a4b4ae1a" style="Column header" x="493" y="0" width="309" height="20" forecolor="#000000"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="12" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA["printed on the " + new SimpleDateFormat("dd/MM/yyyy").format(new java.util.Date())]]></textFieldExpression>
			</textField>
			<frame>
				<reportElement uuid="e1b021cd-59eb-42d7-b843-40c2db5bf830" mode="Opaque" x="0" y="0" width="49" height="52" backcolor="#8E8E8E"/>
				<textField>
					<reportElement uuid="50a24842-2876-4db7-aad1-a6cabcc5a5bd" style="Column header" x="0" y="2" width="42" height="25" forecolor="#000000"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="14" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{PAGE_NUMBER}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" evaluationTime="Report">
					<reportElement uuid="c7cbe776-7771-4972-b45d-9990fc3a75e5" style="Column header" x="0" y="31" width="42" height="20" forecolor="#000000"/>
					<box leftPadding="4" rightPadding="4"/>
					<textElement textAlignment="Center">
						<font size="14" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{PAGE_COUNT}]]></textFieldExpression>
				</textField>
				<line>
					<reportElement uuid="50b0c46a-1a0e-4136-8c31-fdc4e5e5876f" mode="Transparent" x="11" y="28" width="20" height="1" backcolor="#FFFFFF"/>
				</line>
			</frame>
		</band>
	</pageFooter>
</jasperReport>
