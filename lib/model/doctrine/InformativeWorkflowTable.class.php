<?php

/**
 * InformativeWorkflowTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class InformativeWorkflowTable extends DarwinTable
{
  /**
   * Returns an instance of this class.
   *
   * @return object InformativeWorkflowTable
   */
  public static function getInstance()
  {
      return Doctrine_Core::getTable('InformativeWorkflow');
  }
  
  /**
  * Find all associated workflow (joined with values)
  * for a given table and record id
  * @param string $table_name db table name
  * @param int $record_id id of the record
  * @return a Doctrine_collection of results
  */
  public function prepareQuery($table_name, $record_id)
  {
     $q = Doctrine_Query::create()
	 ->from('InformativeWorkflow iw')
	 ->orderBy('iw.modification_date_time DESC');
     $q = $this->addCatalogueReferences($q, $table_name, $record_id, 'iw', true);
     return $q;
  }    
  
  public function findForTable($table_name, $record_id)
  {
    $q = self::prepareQuery($table_name, $record_id);
    return $q->execute() ;
  }

  public function findOneForTable($table_name, $record_id)
  {
    $q = self::prepareQuery($table_name, $record_id);
    return $q->FetchOne() ;
  }  
}
